{"version":3,"sources":["components/layout/Header.tsx","images/ID_bg.svg","components/layout/CardFrame.tsx","components/layout/Home.tsx","components/layout/CamView.tsx","services/Api.ts","components/App.tsx","index.tsx"],"names":["Header","className","CardFrame","props","outcome","photo","isApproved","style","backgroundImage","CardIdDefault","title","to","onClick","handleOutcomeValue","handleIsApprovedValue","handlePhotoValue","Home","CamView","useState","counter","setCounter","webcamRef","useRef","useEffect","timeout","setTimeout","photoTaken","current","getScreenshot","userData","fetch","method","body","JSON","stringify","headers","then","resp","json","result","summary","clearTimeout","history","useHistory","push","audio","ref","screenshotFormat","videoConstraints","width","max","height","aspectRatio","App","initialPhoto","IdBgImage","setPhoto","setOutcome","setIsApproved","newCapture","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36dc0920.chunk.js","sourcesContent":["import React from 'react';\nimport '../../stylesheets/layout/Header.scss';\n\nconst Header = () => {\n\treturn (\n\t\t<div className=\"header\">\n\t\t\t<h1 className=\"header__title\">\n\t\t\t\tBank<span>c</span>lient\n\t\t\t</h1>\n\t\t</div>\n\t);\n};\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/ID_bg.a826b8dc.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport CardIdDefault from '../../images/ID_bg.svg';\nimport '../../stylesheets/layout/CardFrame.scss';\n\nconst CardFrame = (props: HandleStateProps) => {\n\tconst handleReset = () => {\n\t\tprops.handleOutcomeValue('');\n\t\tprops.handleIsApprovedValue(false);\n\t\tprops.handlePhotoValue('');\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<section className=\"card-frame\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t!props.outcome || !props.photo\n\t\t\t\t\t\t\t? 'card-frame__photo'\n\t\t\t\t\t\t\t: props.isApproved\n\t\t\t\t\t\t\t? 'card-frame__photo border-accepted'\n\t\t\t\t\t\t\t: 'card-frame__photo border-rejected'\n\t\t\t\t\t}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t'url(' +\n\t\t\t\t\t\t\t(!props.outcome || !props.photo ? CardIdDefault : props.photo) +\n\t\t\t\t\t\t\t')',\n\t\t\t\t\t}}\n\t\t\t\t\ttitle=\"ID card picture\"\n\t\t\t\t>\n\t\t\t\t\t{props.outcome && props.photo && props.isApproved ? null : (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"/cam-view\"\n\t\t\t\t\t\t\tclassName=\"card-frame__btn\"\n\t\t\t\t\t\t\tonClick={handleReset}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!props.outcome || !props.photo\n\t\t\t\t\t\t\t\t? 'Take picture'\n\t\t\t\t\t\t\t\t: 'Retake picture'}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{props.outcome && props.photo ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t'card-frame__msg ' +\n\t\t\t\t\t\t\t(props.isApproved ? 'msg-accepted' : 'msg-rejected')\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"card-frame__msg--text\">\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'fas ' + (props.isApproved ? 'fa-check' : 'fa-times')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t{props.isApproved ? 'Accepted' : 'Rejected'}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</section>\n\t\t</>\n\t);\n};\n\nexport default CardFrame;\n","import React from 'react';\nimport Header from './Header';\nimport CardFrame from './CardFrame';\nimport '../../stylesheets/layout/Home.scss';\n\nconst Home = (props: HandleStateProps) => {\n\treturn (\n\t\t<div className=\"main-view\">\n\t\t\t<Header />\n\t\t\t<section className=\"main-view__info\">\n\t\t\t\t<h2 className=\"main-view__info--title\">Scan your ID</h2>\n\t\t\t\t<p className=\"main-view__info--text\">\n\t\t\t\t\tTake a picture. It may take time to validate your personal\n\t\t\t\t\tinformation.\n\t\t\t\t</p>\n\t\t\t</section>\n\n\t\t\t<CardFrame\n\t\t\t\tphoto={props.photo}\n\t\t\t\toutcome={props.outcome}\n\t\t\t\tisApproved={props.isApproved}\n\t\t\t\thandleOutcomeValue={props.handleOutcomeValue}\n\t\t\t\thandleIsApprovedValue={props.handleIsApprovedValue}\n\t\t\t\thandlePhotoValue={props.handlePhotoValue}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Link, Redirect, useHistory } from 'react-router-dom';\nimport Webcam from 'react-webcam';\nimport { connectToApi } from '../../services/Api';\nimport '../../stylesheets/layout/CamView.scss';\n\nconst CamView = (props: HandleStateProps) => {\n\tconst [counter, setCounter] = useState<number>(1);\n\n\tconst handleCancel = () => {\n\t\tclearTimeout();\n\t\tprops.handleOutcomeValue('Cancel');\n\t\tprops.handleIsApprovedValue(false);\n\t\t<Redirect push to={'/'} />;\n\t};\n\n\tconst videoConstraints = {\n\t\taudio: false,\n\t\twidth: { max: 1920 },\n\t\theight: { max: 1080 },\n\t\taspectRatio: 1.638,\n\t};\n\n\tconst webcamRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tconst timeout = setTimeout(() => {\n\t\t\tif (!props.isApproved) {\n\t\t\t\tconst photoTaken = webcamRef.current.getScreenshot();\n\n\t\t\t\tprops.handlePhotoValue(photoTaken);\n\n\t\t\t\tconnectToApi(photoTaken).then((result) => {\n\t\t\t\t\tprops.handleOutcomeValue(result.summary.outcome);\n\t\t\t\t\tprops.handleIsApprovedValue(result.summary.outcome);\n\n\t\t\t\t\tsetCounter(counter + 1);\n\t\t\t\t});\n\t\t\t}\n\t\t}, 2000);\n\n\t\treturn () => clearTimeout(timeout);\n\t}, [counter, props]);\n\n\tconst history = useHistory();\n\n\tif (props.isApproved) {\n\t\tconst delay = () => {\n\t\t\tsetTimeout(() => history.push('/'), 2500);\n\t\t};\n\t\tdelay();\n\t}\n\n\treturn (\n\t\t<div className=\"cam-view\">\n\t\t\t<section className=\"cam-view__info\">\n\t\t\t\t<h2 className=\"cam-view__info--title\">Take picture</h2>\n\t\t\t\t<p className=\"cam-view__info--text\">\n\t\t\t\t\tFit your ID card inside the frame.\n\t\t\t\t\t<br />\n\t\t\t\t\tThe picture will be taken automatically.\n\t\t\t\t</p>\n\t\t\t</section>\n\n\t\t\t<section className=\"cam-view__capture\">\n\t\t\t\t<Webcam\n\t\t\t\t\taudio={false}\n\t\t\t\t\tref={webcamRef}\n\t\t\t\t\tscreenshotFormat=\"image/jpeg\"\n\t\t\t\t\tvideoConstraints={videoConstraints}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t!props.outcome || !props.photo\n\t\t\t\t\t\t\t? 'cam-view__capture--image'\n\t\t\t\t\t\t\t: props.isApproved\n\t\t\t\t\t\t\t? 'cam-view__capture--image border-accepted'\n\t\t\t\t\t\t\t: 'cam-view__capture--image border-rejected'\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{props.photo && props.outcome && !props.isApproved ? null : (\n\t\t\t\t\t<div className=\"cam-view__capture--msg\">\n\t\t\t\t\t\t<p className=\"cam-view__capture--msg text\">\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t'cam-view__capture--msg icon far ' +\n\t\t\t\t\t\t\t\t\t(props.isApproved ? 'fa-check-circle' : 'fa-lightbulb')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t\t{props.isApproved ? 'Picture taken!' : 'Room lighting is too low'}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<Link\n\t\t\t\t\tto=\"/\"\n\t\t\t\t\ttitle=\"Back to home\"\n\t\t\t\t\tclassName=\"cam-view__capture--cancel-btn\"\n\t\t\t\t\tonClick={handleCancel}\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</Link>\n\t\t\t</section>\n\t\t</div>\n\t);\n};\n\nexport default CamView;\n","// TODO: cambiar el type de userData al mismo de la foto\n\nexport const connectToApi = (userData: string) => {\n\treturn fetch('https://front-exercise.z1.digital/evaluations', {\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify(userData),\n\t\theaders: { 'content-type': 'application/json' },\n\t}).then((resp) => resp.json());\n};\n","import React, { useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from './layout/Home';\nimport CamView from './layout/CamView';\nimport IdBgImage from '../images/ID_bg.svg';\nimport '../stylesheets/App.scss';\n\nfunction App() {\n\t// INITIAL VALUES\n\tconst initialPhoto: string = IdBgImage;\n\tconst initialOutcome: string = '';\n\n\t// STATES\n\tconst [photo, setPhoto] = useState<string>(initialPhoto);\n\tconst [outcome, setOutcome] = useState<string>(initialOutcome);\n\tconst [isApproved, setIsApproved] = useState<boolean>(false);\n\n\t// SET STATES\n\tconst handleOutcomeValue = (result: any) => {\n\t\tconst newValue: string = result;\n\t\tsetOutcome(newValue);\n\t};\n\tconst handleIsApprovedValue = (result: any) => {\n\t\tconst newValue: boolean = result === 'Approved';\n\t\tsetIsApproved(newValue);\n\t};\n\tconst handlePhotoValue = (newCapture: string) => {\n\t\tsetPhoto(newCapture);\n\t};\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path=\"/\">\n\t\t\t\t<Home\n\t\t\t\t\tphoto={photo}\n\t\t\t\t\toutcome={outcome}\n\t\t\t\t\tisApproved={isApproved}\n\t\t\t\t\thandleOutcomeValue={handleOutcomeValue}\n\t\t\t\t\thandleIsApprovedValue={handleIsApprovedValue}\n\t\t\t\t\thandlePhotoValue={handlePhotoValue}\n\t\t\t\t/>\n\t\t\t</Route>\n\t\t\t<Route exact path=\"/cam-view\">\n\t\t\t\t<CamView\n\t\t\t\t\tphoto={photo}\n\t\t\t\t\toutcome={outcome}\n\t\t\t\t\tisApproved={isApproved}\n\t\t\t\t\thandleOutcomeValue={handleOutcomeValue}\n\t\t\t\t\thandleIsApprovedValue={handleIsApprovedValue}\n\t\t\t\t\thandlePhotoValue={handlePhotoValue}\n\t\t\t\t/>\n\t\t\t</Route>\n\t\t</Switch>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './components/App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<HashRouter>\n\t\t\t<App />\n\t\t</HashRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}